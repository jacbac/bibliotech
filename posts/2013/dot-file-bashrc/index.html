<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <meta name="description" content="A static site for non-static documentation">
    <meta name="keywords" content="bibliotech, doc, documentation">

    <title>Bibliotech | Personnalisation du terminal avec .bashrc</title>

    <link href="//fonts.googleapis.com/css?family=Source+Sans Pro:400,200italic,200,300,400italic,600italic,600,700" rel="stylesheet" type="text/css">
    <link href="../../../assets/css/normalize.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../../../assets/css/monokai.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../../../assets/css/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css" />
<link href="../../../assets/css/main.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body data-spy="scroll" data-target="#table-content">
    <header role="banner">
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Bibliotech</a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li><a href="/">Accueil</a></li>
          <li><a href="/">Aidez-moi !</a></li>
        </ul>
        <form class="navbar-form navbar-right" role="search">
          <div class="form-group">
            <input type="search" class="search-term form-control" placeholder="Recherche...">
          </div>
          <button type="submit" class="search-submit btn btn-default">Go !</button>
        </form>      
      </div><!-- /.navbar-collapse -->
    </div>
  </nav>
</header>


    <div class="container">
      <div class="row">
        <div class="col-md-12 post-banner">
          <div class="search-results"></div>
        </div>
      </div>
      <div role="main-intro">
        <div class="row">
          <div class="col-md-4 post-banner">
              <img alt="Personnalisation du terminal avec .bashrc" height="202" src="../../../posts_uploads/2013/11/acm.jpg" />
          </div>
          <div class="col-md-8 post-title">
            <h1 class="entry-title">Personnalisation du terminal avec .bashrc</h1>
            <div class="row text-muted metas article-metas">
              <div class="col-md-12">
                <span class="authors">&Eacute;crit par <a href="/authors/jacbac/">JacBac</a></span>
                <span class="date-published">Publié le <time class="published" datetime="2013-11-29T12:10:00+01:00">29 November 2013</time></span>
                <span class="categories">Catégories :  
                <a href="/categories/dot-file/">dot-file</a></span>
                <span class="tags">Mots-clefs :  
                <a href="/posts/tags/alias/">alias</a>, <a href="/posts/tags/bash/">bash</a>, <a href="/posts/tags/dot-file/">dot-file</a>, <a href="/posts/tags/terminal/">terminal</a></span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <aside id="table-content" class="nav post-aside affix" data-spy="affix" role="complementary">
            <h4>Index</h4>
            <ul>
<li>
<a href="#toc_0">Inspiration</a>
</li>
</ul>
</li>
<li>
<a href="#toc_1">~/.bashrc: executed by bash(1) for non-login shells.</a>
<ul>
<li>
<a href="#toc_2">see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)</a>
</li>
<li>
<a href="#toc_3">for examples</a>
</li>
<li>
<a href="#toc_4">If not running interactively, don&#39;t do anything</a>
</li>
<li>
<a href="#toc_5">-------------------- History --------------------</a>
</li>
<li>
<a href="#toc_6">don&#39;t put duplicate lines in the history. See bash(1) for more options</a>
</li>
<li>
<a href="#toc_7">don&#39;t overwrite GNU Midnight Commander&#39;s setting of `ignorespace&#39;.</a>
</li>
<li>
<a href="#toc_8">... or force ignoredups and ignorespace</a>
</li>
<li>
<a href="#toc_9">append to the history file, don&#39;t overwrite it</a>
</li>
<li>
<a href="#toc_10">check the window size after each command and, if necessary,</a>
</li>
<li>
<a href="#toc_11">update the values of LINES and COLUMNS.</a>
</li>
<li>
<a href="#toc_12">for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</a>
</li>
<li>
<a href="#toc_13">variant : export HISTTIMEFORMAT=&quot;%h/%d – %H:%M:%S &quot;</a>
</li>
<li>
<a href="#toc_14">-------------------- Bash enhancements --------------------</a>
</li>
<li>
<a href="#toc_15">make less more friendly for non-text input files, see lesspipe(1)</a>
</li>
<li>
<a href="#toc_16">set variable identifying the chroot you work in (used in the prompt below)</a>
</li>
<li>
<a href="#toc_17">set a fancy prompt (non-color, unless we know we &quot;want&quot; color)</a>
</li>
<li>
<a href="#toc_18">uncomment for a colored prompt, if the terminal has the capability; turned</a>
</li>
<li>
<a href="#toc_19">off by default to not distract the user: the focus in a terminal window</a>
</li>
<li>
<a href="#toc_20">should be on the output of commands, not on the prompt</a>
</li>
<li>
<a href="#toc_21">force&lt;em&gt;color&lt;/em&gt;prompt=yes</a>
</li>
<li>
<a href="#toc_22">If this is an xterm set the title to user@host:dir</a>
</li>
<li>
<a href="#toc_23">colorized man, needs to install most</a>
</li>
<li>
<a href="#toc_24">-------------------- Aliases --------------------</a>
</li>
<li>
<a href="#toc_25">Alias definitions.</a>
</li>
<li>
<a href="#toc_26">You may want to put all your additions into a separate file like</a>
</li>
<li>
<a href="#toc_27">~/.bash_aliases, instead of adding them here directly.</a>
</li>
<li>
<a href="#toc_28">See /usr/share/doc/bash-doc/examples in the bash-doc package.</a>
</li>
<li>
<a href="#toc_29">-------------------- Completion --------------------</a>
</li>
<li>
<a href="#toc_30">enable programmable completion features (you don&#39;t need to enable</a>
</li>
<li>
<a href="#toc_31">this, if it&#39;s already enabled in /etc/bash.bashrc and /etc/profile</a>
</li>
<li>
<a href="#toc_32">sources /etc/bash.bashrc).</a>
</li>
<li>
<a href="#toc_33">-------------------- GIT bashing --------------------</a>
</li>
<li>
<a href="#toc_34">PS1=&quot;[\033[01;31m][\u@\h[\033[00m]:[\033[01;34m]\w][\033[00m]\$ &quot;</a>
<ul>
<li>
<a href="#toc_35">Reload it</a>
</li>
</ul>
</li>
</ul>

            <h4>Sources et références</h4>
<ul>
  <li>C'est peut-être le moment d'en ajouter :)</li>
</ul>
        </aside>  
        </div>    
        <div class="col-md-8 post" role="main">
          <article class="entry">
            <div class="entry-content">
              <h2 id="toc_0">Inspiration</h2>
<pre class="highlight shell"><span class="c"># ~/.bashrc: executed by bash(1) for non-login shells.</span>
<span class="c"># see /usr/share/doc/bash/examples/startup-files (in the package bash-doc)</span>
<span class="c"># for examples</span>

<span class="c"># If not running interactively, don't do anything</span>
<span class="o">[</span> -z <span class="s2">"</span><span class="nv">$PS1</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="k">return</span>


<span class="c"># -------------------- History --------------------</span>

<span class="c"># don't put duplicate lines in the history. See bash(1) for more options</span>
<span class="c"># don't overwrite GNU Midnight Commander's setting of `ignorespace'.</span>
<span class="nb">export </span><span class="nv">HISTCONTROL</span><span class="o">=</span><span class="nv">$HISTCONTROL</span><span class="k">${</span><span class="nv">HISTCONTROL</span><span class="p">+,</span><span class="k">}</span>ignoredups
<span class="c"># ... or force ignoredups and ignorespace</span>
<span class="nb">export </span><span class="nv">HISTCONTROL</span><span class="o">=</span>ignoreboth

<span class="c"># append to the history file, don't overwrite it</span>
<span class="nb">shopt</span> -s histappend

<span class="c"># check the window size after each command and, if necessary,</span>
<span class="c"># update the values of LINES and COLUMNS.</span>
<span class="nb">shopt</span> -s checkwinsize

<span class="c"># for setting history length see HISTSIZE and HISTFILESIZE in bash(1)</span>
<span class="nb">export </span><span class="nv">PROMPT_COMMAND</span><span class="o">=</span><span class="s1">'history -a'</span>
<span class="nv">HISTSIZE</span><span class="o">=</span>10000
<span class="nv">HISTFILESIZE</span><span class="o">=</span>10000
<span class="nb">export </span><span class="nv">HISTTIMEFORMAT</span><span class="o">=</span><span class="s2">"%d/%m/%y %T "</span>
<span class="c"># variant : export HISTTIMEFORMAT="%h/%d – %H:%M:%S "</span>


<span class="c"># -------------------- Bash enhancements --------------------</span>

<span class="c"># make less more friendly for non-text input files, see lesspipe(1)</span>
<span class="o">[</span> -x /usr/bin/lesspipe <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">eval</span> <span class="s2">"</span><span class="k">$(</span><span class="nv">SHELL</span><span class="o">=</span>/bin/sh lesspipe<span class="k">)</span><span class="s2">"</span>

<span class="c"># set variable identifying the chroot you work in (used in the prompt below)</span>
<span class="k">if</span> <span class="o">[</span> -z <span class="s2">"</span><span class="nv">$debian_chroot</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> -r /etc/debian_chroot <span class="o">]</span>; <span class="k">then
    </span><span class="nv">debian_chroot</span><span class="o">=</span><span class="k">$(</span>cat /etc/debian_chroot<span class="k">)</span>
<span class="k">fi</span>

<span class="c"># set a fancy prompt (non-color, unless we know we "want" color)</span>
<span class="k">case</span> <span class="s2">"</span><span class="nv">$TERM</span><span class="s2">"</span> <span class="k">in
    </span>xterm-color<span class="p">)</span> <span class="nv">color_prompt</span><span class="o">=</span>yes;;
<span class="k">esac</span>

<span class="c"># uncomment for a colored prompt, if the terminal has the capability; turned</span>
<span class="c"># off by default to not distract the user: the focus in a terminal window</span>
<span class="c"># should be on the output of commands, not on the prompt</span>
<span class="c">#force_color_prompt=yes</span>

<span class="k">if</span> <span class="o">[</span> -n <span class="s2">"</span><span class="nv">$force_color_prompt</span><span class="s2">"</span> <span class="o">]</span>; <span class="k">then
    if</span> <span class="o">[</span> -x /usr/bin/tput <span class="o">]</span> <span class="o">&amp;&amp;</span> tput setaf 1 &gt;&amp;/dev/null; <span class="k">then</span>
  <span class="c"># We have color support; assume it's compliant with Ecma-48</span>
  <span class="c"># (ISO/IEC-6429). (Lack of such support is extremely rare, and such</span>
  <span class="c"># a case would tend to support setf rather than setaf.)</span>
  <span class="nv">color_prompt</span><span class="o">=</span>yes
    <span class="k">else
  </span><span class="nv">color_prompt</span><span class="o">=</span>
    <span class="k">fi
fi

if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$color_prompt</span><span class="s2">"</span> <span class="o">=</span> yes <span class="o">]</span>; <span class="k">then
    </span><span class="nv">PS1</span><span class="o">=</span><span class="s1">'${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ '</span>
<span class="k">else
    </span><span class="nv">PS1</span><span class="o">=</span><span class="s1">'${debian_chroot:+($debian_chroot)}\u@\h:\w\$ '</span>
<span class="k">fi
</span><span class="nb">unset </span>color_prompt force_color_prompt

<span class="c"># If this is an xterm set the title to user@host:dir</span>
<span class="k">case</span> <span class="s2">"</span><span class="nv">$TERM</span><span class="s2">"</span> <span class="k">in
</span>xterm<span class="k">*</span><span class="p">|</span>rxvt<span class="k">*</span><span class="p">)</span>
    <span class="nv">PS1</span><span class="o">=</span><span class="s2">"</span><span class="se">\[\e</span><span class="s2">]0;</span><span class="k">${</span><span class="nv">debian_chroot</span>:+<span class="p">(</span><span class="nv">$debian_chroot</span><span class="p">)</span><span class="k">}</span><span class="se">\u</span><span class="s2">@</span><span class="se">\h</span><span class="s2">: </span><span class="se">\w\a\]</span><span class="nv">$PS1</span><span class="s2">"</span>
    <span class="p">;;</span>
<span class="k">*</span><span class="p">)</span>
    <span class="p">;;</span>
<span class="k">esac</span>

<span class="c"># colorized man, needs to install most</span>
<span class="nb">export </span><span class="nv">PAGER</span><span class="o">=</span>most


<span class="c"># -------------------- Aliases --------------------</span>

<span class="c"># Alias definitions.</span>
<span class="c"># You may want to put all your additions into a separate file like</span>
<span class="c"># ~/.bash_aliases, instead of adding them here directly.</span>
<span class="c"># See /usr/share/doc/bash-doc/examples in the bash-doc package.</span>

<span class="k">if</span> <span class="o">[</span> -f ~/.bash_aliases <span class="o">]</span>; <span class="k">then</span>
    . ~/.bash_aliases
<span class="k">fi</span>


<span class="c"># -------------------- Completion --------------------</span>

<span class="c"># enable programmable completion features (you don't need to enable</span>
<span class="c"># this, if it's already enabled in /etc/bash.bashrc and /etc/profile</span>
<span class="c"># sources /etc/bash.bashrc).</span>
<span class="k">if</span> ! <span class="nb">shopt</span> -oq posix; <span class="k">then
  if</span> <span class="o">[</span> -f /usr/share/bash-completion/bash_completion <span class="o">]</span>; <span class="k">then</span>
    . /usr/share/bash-completion/bash_completion
  <span class="k">elif</span> <span class="o">[</span> -f /etc/bash_completion <span class="o">]</span>; <span class="k">then</span>
    . /etc/bash_completion
  <span class="k">fi
fi</span>


<span class="c"># -------------------- GIT bashing --------------------</span>

<span class="k">function </span>parse_git_branch <span class="o">()</span> <span class="o">{</span>
       git branch 2&gt; /dev/null | sed -e <span class="s1">'/^[^*]/d'</span> -e <span class="s1">'s/* \(.*\)/ (\1)/'</span>
<span class="o">}</span>

<span class="nv">RED</span><span class="o">=</span><span class="s2">"</span><span class="se">\[\0</span><span class="s2">33[0;31m</span><span class="se">\]</span><span class="s2">"</span>
<span class="nv">YELLOW</span><span class="o">=</span><span class="s2">"</span><span class="se">\[\0</span><span class="s2">33[0;33m</span><span class="se">\]</span><span class="s2">"</span>
<span class="nv">GREEN</span><span class="o">=</span><span class="s2">"</span><span class="se">\[\0</span><span class="s2">33[0;32m</span><span class="se">\]</span><span class="s2">"</span>
<span class="nv">NO_COLOUR</span><span class="o">=</span><span class="s2">"</span><span class="se">\[\0</span><span class="s2">33[0m</span><span class="se">\]</span><span class="s2">"</span>

<span class="gp">PS1="$GREEN\u@\h$NO_COLOUR:\w$YELLOW\$(parse_git_branch)$NO_COLOUR\$ </span><span class="s2">"
#PS1="</span><span class="se">\[\0</span>33[01;31m<span class="se">\]</span><span class="o">[</span><span class="se">\u</span>@<span class="se">\h\[\0</span>33[00m<span class="se">\]</span>:<span class="se">\[\0</span>33[01;34m<span class="se">\]\w</span><span class="o">]</span><span class="se">\[\0</span>33[00m<span class="se">\]\$</span> <span class="s2">"
</span></pre>
<h2 id="toc_1">Reload it</h2>
<pre class="highlight plaintext">source ~/.bashrc
</pre>
            </div>
          </article>
        </div>
      </div>
    </div>

    <div class="affix-footer">
      <div class="metas">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <h4>Tags</h4>
        <ul>
            <li><a href="/posts/tags/dot-file/">dot-file</a> <span class="badge badge-primary">3</span></a></li>
            <li><a href="/posts/tags/bash/">bash</a> <span class="badge badge-primary">3</span></a></li>
            <li><a href="/posts/tags/alias/">alias</a> <span class="badge badge-primary">3</span></a></li>
            <li><a href="/posts/tags/terminal/">terminal</a> <span class="badge badge-primary">3</span></a></li>
            <li><a href="/posts/tags/php/">php</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/ini/">ini</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/propel-1-3/">propel 1.3</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/sql/">sql</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/orm/">orm</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/debian/">debian</a> <span class="badge badge-primary">3</span></a></li>
            <li><a href="/posts/tags/seafile/">seafile</a> <span class="badge badge-primary">2</span></a></li>
            <li><a href="/posts/tags/distribution/">distribution</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/log/">log</a> <span class="badge badge-primary">2</span></a></li>
            <li><a href="/posts/tags/debug/">debug</a> <span class="badge badge-primary">2</span></a></li>
            <li><a href="/posts/tags/apache/">apache</a> <span class="badge badge-primary">2</span></a></li>
            <li><a href="/posts/tags/server/">server</a> <span class="badge badge-primary">2</span></a></li>
            <li><a href="/posts/tags/markdown/">markdown</a> <span class="badge badge-primary">2</span></a></li>
            <li><a href="/posts/tags/exemple/">exemple</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/moustache/">moustache</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/mongodb/">mongoDB</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/service/">service</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/export/">export</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/import/">import</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/dump/">dump</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/git/">git</a> <span class="badge badge-primary">4</span></a></li>
            <li><a href="/posts/tags/stash/">stash</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/navigateur/">navigateur</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/ie8/">IE8</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/ux/">ux</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/gitignore/">gitignore</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/ide/">ide</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/plug-ins/">plug-ins</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/install/">install</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/eof/">eof</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/line-endings/">line endings</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/dos2unix/">dos2unix</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/syntax/">syntax</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/linux/">linux</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/ps/">ps</a> <span class="badge badge-primary">1</span></a></li>
            <li><a href="/posts/tags/kill/">kill</a> <span class="badge badge-primary">1</span></a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <h4>Catégories</h4>
        <ul>
            <li><a href="/categories/apache/">apache <span class="badge">2</span></a></li>
            <li><a href="/categories/bibliotech/">bibliotech <span class="badge">1</span></a></li>
            <li><a href="/categories/cheat-sheet/">cheat sheet <span class="badge">1</span></a></li>
            <li><a href="/categories/dot-file/">dot-file <span class="badge">3</span></a></li>
            <li><a href="/categories/frontend/">frontend <span class="badge">1</span></a></li>
            <li><a href="/categories/git/">git <span class="badge">4</span></a></li>
            <li><a href="/categories/grunt/">grunt <span class="badge">1</span></a></li>
            <li><a href="/categories/ide/">ide <span class="badge">1</span></a></li>
            <li><a href="/categories/ie/">ie <span class="badge">1</span></a></li>
            <li><a href="/categories/linux/">linux <span class="badge">4</span></a></li>
            <li><a href="/categories/mongodb/">mongoDB <span class="badge">1</span></a></li>
            <li><a href="/categories/php/">php <span class="badge">1</span></a></li>
            <li><a href="/categories/propel/">propel <span class="badge">1</span></a></li>
            <li><a href="/categories/regexp/">regexp <span class="badge">1</span></a></li>
            <li><a href="/categories/sublime/">sublime <span class="badge">1</span></a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <h4>Auteurs</h4>
        <ul>
            <li><a href="/authors/jacbac/">JacBac <span class="badge">20</span></a></li>
            <li><a href="/authors/nick-nolte/">Nick Nolte <span class="badge">1</span></a></li>
            <li><a href="/authors/toog/">Toog <span class="badge">1</span></a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <h4>Année</h4>
        <ul>
            <li><a href="/posts/2014/">2014</a> <span class="badge">2</span></a></li>
            <li><a href="/posts/2013/">2013</a> <span class="badge">19</span></a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

      <footer role="contentinfo">
  <div class="container">
    <div class="signature">
      <p class="text-muted credit">Un site <a href="http://www.fantastic.fr">fantastique</a> &copy; 2014 | Composé sous <a href="http://middlemanapp.com/">Middleman</a></p>
    </div>
  </div>
</footer>

    </div>

    <script src="../../../assets/js/jquery-2.0.3.min.js" type="text/javascript"></script>
<script src="../../../assets/js/bootstrap.js" type="text/javascript"></script>
<script src="../../../assets/js/main.js" type="text/javascript"></script>
  </body>
</html>
